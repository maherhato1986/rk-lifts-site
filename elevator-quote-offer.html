<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <title>عرض سعر / عقد توريد وتركيب وتشغيل مصاعد – RKL</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <style>
        * { box-sizing: border-box; }

        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: #f3f4f6;
            margin: 0;
            padding: 16px;
            color: #111827;
        }

        .toolbar {
            max-width: 1024px;
            margin: 0 auto 12px auto;
            display: flex;
            justify-content: flex-end;
            gap: 8px;
        }

        .toolbar button {
            padding: 8px 16px;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            font-size: 14px;
            background: #059669;
            color: #fff;
        }

        .page {
            max-width: 1024px;
            margin: 0 auto 16px auto;
            background: #ffffff;
            padding: 24px 28px;
            box-shadow: 0 10px 30px rgba(15, 23, 42, 0.08);
            position: relative;
        }

        .page-header {
            display: flex;
            justify-content: space-between;
            gap: 16px;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 8px;
            margin-bottom: 10px;
        }

        .header-right {
            text-align: right;
            font-size: 12px;
        }

        .logo-text {
            font-size: 20px;
            font-weight: 800;
        }

        .subtitle {
            font-size: 13px;
            color: #6b7280;
        }

        .header-left {
            text-align: left;
            font-size: 12px;
            color: #4b5563;
        }

        .doc-title {
            text-align: center;
            margin: 4px 0 4px;
            font-size: 18px;
            font-weight: 700;
        }

        .doc-meta {
            text-align: center;
            font-size: 13px;
            color: #4b5563;
            margin-bottom: 12px;
        }

        .section {
            margin-bottom: 12px;
        }

        .section-title {
            font-weight: 700;
            font-size: 14px;
            border-bottom: 1px solid #e5e7eb;
            padding-bottom: 3px;
            margin-bottom: 6px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 4px 18px;
            font-size: 13px;
        }

        .info-row {
            display: flex;
            gap: 4px;
        }

        .info-label {
            font-weight: 600;
            color: #4b5563;
            min-width: 80px;
        }

        .info-value {
            flex: 1;
        }

        .hint {
            font-size: 11px;
            color: #6b7280;
            margin-bottom: 3px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 11.5px;
        }

        th, td {
            border: 1px solid #d1d5db;
            padding: 4px 6px;
            text-align: center;
        }

        th {
            background: #f3f4f6;
            font-weight: 700;
        }

        .notes {
            font-size: 12px;
            line-height: 1.7;
            color: #374151;
        }

        .signatures {
            display: grid;
            grid-template-columns: repeat(2, minmax(0,1fr));
            gap: 32px;
            font-size: 12px;
            margin-top: 18px;
        }

        .sign-box {
            border-top: 1px solid #e5e7eb;
            padding-top: 6px;
        }

        .sign-title {
            font-weight: 600;
            margin-bottom: 4px;
        }

        [contenteditable="true"] {
            outline: none;
        }

        [contenteditable="true"]:hover {
            background: #fefce8;
        }

        .page-break {
            page-break-before: always;
        }

        .blue-header {
            background: #1d4ed8;
            color: #ffffff;
            text-align: center;
            padding: 6px;
            font-weight: 700;
            margin-bottom: 6px;
            font-size: 14px;
        }

        .two-col-table th, .two-col-table td {
            width: 50%;
        }

        @media print {
            body {
                background: #ffffff;
                padding: 0;
            }
            .page {
                box-shadow: none;
                margin: 0;
                max-width: 100%;
                padding: 15mm 17mm;
            }
            .toolbar {
                display: none;
            }
        }
    </style>
</head>
<body>
<div class="toolbar">
    <button type="button" onclick="window.print()">طباعة عرض السعر / حفظ كـ PDF</button>

    <!-- اختيار عرض سعر محفوظ من صفحة elevator-quote.html -->
    <select id="quote-selector">
        <option value="">اختر عرض سعر من السجل...</option>
    </select>
</div>


<!-- ======================= الصفحة الأولى: عرض السعر ======================= -->
<!-- ====== صفحة عرض السعر – الصفحة الأولى ====== -->

<style>
/* الخلفية الشفافة */
.offer-bg {
    position: absolute;
    top: 180px;
    left: 50%;
    width: 420px;
    opacity: 0.08;
    transform: translateX(-50%);
    z-index: 0;
}

/* تنسيق الترويسة */
.header-box {
    text-align: center;
    margin-top: 20px;
    position: relative;
    z-index: 2;
}

.header-logo {
    width: 150px;
    margin-bottom: 10px;
}

/* عنوان عرض السعر */
.main-title {
    text-align: center;
    font-size: 24px;
    font-weight: bold;
    margin-top: 10px;
    margin-bottom: 20px;
}

/* الجداول */
.table-offer {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 25px;
    position: relative;
    z-index: 2;
}

.table-offer th, .table-offer td {
    border: 1px solid #bbb;
    padding: 8px;
    font-size: 15px;
}

.table-offer th {
    background: #f0f0f0;
    font-weight: bold;
}

.section-title {
    font-weight: bold;
    margin: 25px 0 10px;
    font-size: 18px;
}
</style>

<!-- خلفية الشعار الشفافة -->
<img src="rk-lifts-site/logo.png" class="offer-bg">

<!-- الترويسة -->
<div class="header-box">
    <img src="rk-lifts-site/logo.png" class="header-logo">
    <div>آر كي ال RKL للمصاعد والسلالم الكهربائية</div>
    <div>السجل التجاري: 1010709355</div>
    <div>الرقم الضريبي: 302250422600003</div>
    <div>العنوان: السليمانية – الرياض</div>
    <div>الهاتف: 0114774021 – البريد: admin@rk-lifts.com</div>
</div>

<hr style="margin: 25px 0;">

<!-- العنوان الرئيسي -->
<div class="main-title">
    عرض سعر توريد وتركيب وتشغيل مصعد / مصاعد ركاب
</div>

<table class="table-offer">
    <tr>
        <th>رقم عرض السعر</th>
        <td id="offerNumber" contenteditable="true">---------</td>
        <th>التاريخ</th>
        <td id="offerDate" contenteditable="true">---------</td>
    </tr>
</table>



<!-- نص تعريفي بالمؤسسة -->
<div style="text-align: center; margin-top: 15px; font-size: 16px; line-height: 1.8; font-weight: bold; position: relative; z-index: 3;">
    <p>
        تأسست مؤسسة <strong>آر كي ال RKL للمصاعد والسلالم الكهربائية</strong> في الرياض، 
        وتُعدّ واحدة من المؤسسات المتخصصة في مجال المصاعد الحديثة وأنظمة الرفع، 
        حيث قامت بتنفيذ وتركيب وصيانة أكثر من 
        <strong>500 مصعد</strong> في مختلف مناطق المملكة.
    </p>
    <p>
        تتميز RKL بالشراكات الدولية مع أبرز المصانع العالمية، وبالتزامها بمعايير الجودة والاعتمادية،  
        إضافةً إلى خبرة فنية متقدمة، وفريق محترف قادر على تقديم حلول متكاملة تشمل: التوريد، التركيب، التشغيل،  
        الصيانة الدورية، وخدمات التحديث (Modernization).
    </p>
    <p>
        وتفخر المؤسسة بجودة خدماتها وسرعة استجابتها وحرصها على تقديم أفضل الحلول الفنية والاقتصادية 
        بما يتوافق مع اشتراطات الجهات الاستشارية والمواصفات المعتمدة للمشاريع.
    </p>
</div>

<hr style="margin: 20px 0;">

<!-- بيانات العميل والمشروع -->


<table class="table-offer">
    <tr>
        <th>اسم العميل</th>
        <td id="customerName" contenteditable="true">---------</td>
        <th>رقم الجوال</th>
        <td id="customerPhone" contenteditable="true">---------</td>
    </tr>

    <tr>
        <th>البريد الإلكتروني</th>
        <td id="customerEmail" contenteditable="true">---------</td>
        <th>المدينة</th>
        <td id="projectCity" contenteditable="true">---------</td>
    </tr>

    <tr>
        <th>اسم المشروع</th>
        <td id="projectName" contenteditable="true">---------</td>
        <th>موقع المشروع</th>
        <td id="projectLocation" contenteditable="true">---------</td>
    </tr>

    <tr>
        <th>العنوان</th>
        <td colspan="3" id="projectAddress" contenteditable="true">---------</td>
    </tr>
</table>


<!-- ملخص التسعير -->
<table class="table-offer">
    <tr>
        <th>الماركة</th>
        <td id="brand" contenteditable="true">---------</td>
        <th>نوع النظام</th>
        <td id="systemType" contenteditable="true">---------</td>
    </tr>

    <tr>
        <th>الحمولة / السرعة</th>
        <td id="capacitySpeed" contenteditable="true">---------</td>
        <th>عدد الأدوار</th>
        <td id="floors" contenteditable="true">---------</td>
    </tr>

    <tr>
        <th>عدد المصاعد</th>
        <td id="elevatorCount" contenteditable="true">---------</td>
        <th>سعر المصعد (شامل الضريبة)</th>
        <td id="liftPrice" contenteditable="true">---------</td>
    </tr>

    <tr>
        <th>الإجمالي شامل الضريبة</th>
        <td colspan="3" id="totalPrice" contenteditable="true">---------</td>
    </tr>
</table>


<tr>
    <td>1</td>
    <td>نوع النظام</td>
    <td id="specSystem" contenteditable="true">---------</td>
</tr>
<tr>
    <td>2</td>
    <td>الاستخدام</td>
    <td id="specUsage" contenteditable="true">---------</td>
</tr>
<tr>
    <td>3</td>
    <td>تشطيب الكبينة</td>
    <td id="specCabin" contenteditable="true">---------</td>
</tr>
<tr>
    <td>4</td>
    <td>تشطيب الأبواب</td>
    <td id="specDoors" contenteditable="true">---------</td>
</tr>
<tr>
    <td>5</td>
    <td>تشطيب الأرضية</td>
    <td id="specFloor" contenteditable="true">---------</td>
</tr>


<!-- الملاحظات -->
<div class="section-title">رابعاً: ملاحظات عامة على العرض</div>

<ul style="font-size: 15px; line-height: 1.9;">
    <li>السعر لا يشمل الأعمال المدنية والكهربائية خارج حدود غرفة المصعد.</li>
    <li>مدة توريد المصعد من 30 إلى 45 يومًا بعد توقيع العقد وسداد الدفعة المقدمة.</li>
    <li>الأسعار تشمل الضريبة المضافة 15%.</li>
</ul>

<br><br><br>

    <div class="section">
        <div class="section-title">رابعاً: ملاحظات عامة على العرض</div>
        <div class="notes" contenteditable="true">
            • الأسعار لا تشمل الأعمال المدنية والكهربائية خارج حدود المصعد ما لم يُنص على خلاف ذلك.<br />
            • مدة صلاحية هذا العرض (30) يومًا من تاريخه ما لم يتم سحبه أو تعديله كتابيًا من قبل مؤسسة RKL.<br />
            • يتم التنفيذ وفقًا لأحدث المواصفات المعتمدة بين الطرفين والمخططات النهائية المعتمدة من الاستشاري / المالك.
        </div>
    </div>
</div>

<!-- ======================= الصفحة الثانية: Elevator Request Form ======================= -->
<div class="page page-break">

    <div class="blue-header" contenteditable="true">Elevator Request Form</div>

    <table class="two-col-table">
        <tbody>
        <tr>
            <th>Item</th>
            <th>Code</th>
        </tr>
        <tr>
            <td contenteditable="true">Contract No.</td>
            <td contenteditable="true">595 – FUJI JAPAN</td>
        </tr>
        <tr>
            <td contenteditable="true">Machine Type</td>
            <td contenteditable="true">MRL</td>
        </tr>
        <tr>
            <td contenteditable="true">Load</td>
            <td contenteditable="true">450 kg</td>
        </tr>
        <tr>
            <td contenteditable="true">Floors (Stops)</td>
            <td contenteditable="true">4 Floors – 4 Stops</td>
        </tr>
        <tr>
            <td contenteditable="true">Cabin Entrance</td>
            <td contenteditable="true">1</td>
        </tr>
        <tr>
            <td contenteditable="true">Shaft Dimension</td>
            <td contenteditable="true">As in final shop drawing</td>
        </tr>
        <tr>
            <td contenteditable="true">Door Type</td>
            <td contenteditable="true">Automatic</td>
        </tr>
        <tr>
            <td contenteditable="true">Cabin Decoration Type</td>
            <td contenteditable="true">Stainless Steel / Mirror / etc.</td>
        </tr>
        <tr>
            <td contenteditable="true">Door Decoration Type</td>
            <td contenteditable="true">Stainless Steel</td>
        </tr>
        <tr>
            <td contenteditable="true">Car Operation Panel Type</td>
            <td contenteditable="true">LCD / Touch</td>
        </tr>
        <tr>
            <td contenteditable="true">COP</td>
            <td contenteditable="true">Standard</td>
        </tr>
        <tr>
            <td contenteditable="true">LOP</td>
            <td contenteditable="true">Standard</td>
        </tr>
        <tr>
            <td contenteditable="true">Ceiling Type</td>
            <td contenteditable="true">As per RKL catalogue</td>
        </tr>
        <tr>
            <td contenteditable="true">Handrail Type</td>
            <td contenteditable="true">Stainless Steel</td>
        </tr>
        <tr>
            <td contenteditable="true">Floor Type</td>
            <td contenteditable="true">Marble / Granite</td>
        </tr>
        <tr>
            <td contenteditable="true">Control Type</td>
            <td contenteditable="true">VVVF</td>
        </tr>
        <tr>
            <td contenteditable="true">ARD</td>
            <td contenteditable="true">Including</td>
        </tr>
        <tr>
            <td contenteditable="true">Additional Request</td>
            <td contenteditable="true">Gong, Intercom, etc.</td>
        </tr>
        </tbody>
    </table>

    <div class="section" style="margin-top: 16px;">
        <div class="section-title">الضمان والصيانة / Warranty and Maintenance</div>
        <table>
            <thead>
            <tr>
                <th style="width:8%;">م</th>
                <th>Arabic</th>
                <th>English</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>01</td>
                <td contenteditable="true">
                    مدة الضمان 10 سنوات على كامل المصعد، بشرط الالتزام بعقد صيانة لباقي السنوات بعد انتهاء الفترة
                    المجانية للصيانة.
                </td>
                <td contenteditable="true">
                    The warranty period is 10 years on the entire elevator, provided that a maintenance
                    contract is committed to the rest of the years after the end of the free maintenance period.
                </td>
            </tr>
            <tr>
                <td>02</td>
                <td contenteditable="true">
                    الصيانة المجانية لمدة سنتين كاملتين شاملة قطع الغيار.
                </td>
                <td contenteditable="true">
                    2 years free maintenance including spare parts.
                </td>
            </tr>
            </tbody>
        </table>

        <div style="margin-top: 18px; font-size: 12px;">
            <strong>Customer Signature:</strong>
            <span contenteditable="true">_____________________________</span>
        </div>
    </div>
</div>

<!-- ======================= الصفحة الثالثة: Specification Sheet (مختصرة) ======================= -->
<div class="page page-break">

    <div class="blue-header" contenteditable="true">
        Complete Elevator Specification Sheet – From FUJI JAPAN
    </div>

    <table>
        <thead>
        <tr>
            <th style="width:6%;">NO.</th>
            <th style="width:10%;">Code</th>
            <th>Content</th>
            <th style="width:22%;">Remarks</th>
        </tr>
        </thead>
        <tbody>
        <!-- يمكنك إضافة أو حذف أسطر حسب الحاجة، كل الخلايا قابلة للتعديل -->
        <tr>
            <td contenteditable="true">001</td>
            <td contenteditable="true">L1</td>
            <td contenteditable="true">Type – Traction Elevator from FUJI JAPAN</td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td contenteditable="true">002</td>
            <td contenteditable="true">L2</td>
            <td contenteditable="true">Control Type – Simplex / Duplex</td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td contenteditable="true">003</td>
            <td contenteditable="true">003</td>
            <td contenteditable="true">Stops / Floors / Doors – As per final shop drawing</td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td contenteditable="true">004</td>
            <td contenteditable="true">004</td>
            <td contenteditable="true">Floor Name – GF, 1, 2, ...</td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td contenteditable="true">005</td>
            <td contenteditable="true">005</td>
            <td contenteditable="true">Base Floor – GF</td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td contenteditable="true">006</td>
            <td contenteditable="true">006</td>
            <td contenteditable="true">Car Size – As in final shop drawing</td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td contenteditable="true">007</td>
            <td contenteditable="true">007</td>
            <td contenteditable="true">Pit Depth – 1200 mm (min) أو حسب المخططات</td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td contenteditable="true">008</td>
            <td contenteditable="true">008</td>
            <td contenteditable="true">Overhead Height – 4200 mm (min)</td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td contenteditable="true">009</td>
            <td contenteditable="true">009</td>
            <td contenteditable="true">Power Supply – 380V 60Hz AC 3 Phase</td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td contenteditable="true">010</td>
            <td contenteditable="true">010</td>
            <td contenteditable="true">Machine Level – MRL</td>
            <td contenteditable="true"></td>
        </tr>

        <!-- مجموعة بنود تشطيب الكابينة والأبواب -->
        <tr>
            <td contenteditable="true">020</td>
            <td contenteditable="true">020</td>
            <td contenteditable="true">Car Material – Stainless Steel (Hairline)</td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td contenteditable="true">021</td>
            <td contenteditable="true">021</td>
            <td contenteditable="true">Landing Door Material – Stainless Steel</td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td contenteditable="true">022</td>
            <td contenteditable="true">022</td>
            <td contenteditable="true">Ceiling – As per design</td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td contenteditable="true">023</td>
            <td contenteditable="true">023</td>
            <td contenteditable="true">Handrail – Stainless Steel</td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td contenteditable="true">024</td>
            <td contenteditable="true">024</td>
            <td contenteditable="true">Floor – Marble / Granite</td>
            <td contenteditable="true"></td>
        </tr>

        <!-- يمكنك تكرار أو تعديل الأسطر حتى تصل لنفس عدد بنود الورقة الأصلية -->
        </tbody>
    </table>

    <div class="hint" style="margin-top: 8px;">
        هذه الصفحة تمثل الـ Specification Sheet التفصيلية. يمكنك نسخ بنود العقد الأصلي ولصقها هنا بندًا بندًا.
    </div>
</div>

<!-- ======================= الصفحة الرابعة: الدفعات والشروط الختامية ======================= -->
<div class="page page-break">

    <div class="section">
        <div class="section-title">المادة الثالثة: التزامات الطرف الأول – الدفعات</div>
        <div class="hint">
            الجدول التالي مأخوذ من نموذج الدفعات في العقد؛ جميع الخلايا قابلة للتعديل.
        </div>
        <table>
            <thead>
            <tr>
                <th>البيان</th>
                <th>النسبة المئوية</th>
                <th>المبلغ بالريال</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td contenteditable="true">عند توقيع العقد</td>
                <td contenteditable="true">50 %</td>
                <td contenteditable="true">SAR 000,000.00</td>
            </tr>
            <tr>
                <td contenteditable="true">عند انتهاء التركيب الميكانيكي</td>
                <td contenteditable="true">25 %</td>
                <td contenteditable="true">SAR 000,000.00</td>
            </tr>
            <tr>
                <td contenteditable="true">بعد انتهاء الأعمال الكهربائية والتشغيل</td>
                <td contenteditable="true">20 %</td>
                <td contenteditable="true">SAR 000,000.00</td>
            </tr>
            <tr>
                <td contenteditable="true">عند التسليم الابتدائي</td>
                <td contenteditable="true">5 %</td>
                <td contenteditable="true">SAR 000,000.00</td>
            </tr>
            <tr>
                <td contenteditable="true">الإجمالي (شامل ضريبة القيمة المضافة 15%)</td>
                <td contenteditable="true">100 %</td>
                <td contenteditable="true">SAR 000,000.00</td>
            </tr>
            </tbody>
        </table>

        <div class="notes" style="margin-top: 10px;" contenteditable="true">
            ملاحظة: يتم تحويل جميع الدفعات إلى حساب مؤسسة آر كي ال RKL للمصاعد والسلالم الكهربائية وفق بيانات التحويل المعتمدة، خلال مدة لا تتجاوز
            سبعة (7) أيام من تاريخ استحقاق كل دفعة، وفي حال التأخير يحق للطرف الثاني إيقاف الأعمال لحين السداد دون أن يعد ذلك إخلالاً بالعقد.
        </div>
    </div>

    <div class="section">
        <div class="section-title">المادة الرابعة: الأعمال المدنية والكهربائية</div>
        <div class="notes" contenteditable="true">
            يلتزم الطرف الأول بتجهيز جميع الفتحات والأعمدة الخرسانية، وتوفير مصدر تيار كهربائي 380 فولت ثلاثي الفاز، وتنفيذ جميع الأعمال
            المدنية حول الأبواب والبئر حسب المخططات، على أن يتم التنسيق المسبق مع الطرف الثاني قبل صب الخرسانات أو تنفيذ التشطيبات.
        </div>
    </div>

    <div class="section">
        <div class="section-title">المادة الخامسة: الضمان والصيانة</div>
        <div class="notes" contenteditable="true">
            يلتزم الطرف الثاني بضمان المصعد وفق ما ورد في نموذج الضمان والصيانة المرفق، ويعتبر هذا النموذج جزءًا لا يتجزأ من العقد، ويعمل به
            ما لم يتم الاتفاق كتابيًا على غير ذلك.
        </div>
    </div>

    <div class="section">
        <div class="section-title">المادة السادسة: الإخطارات والمراسلات</div>
        <div class="notes" contenteditable="true">
            تتم المراسلات بين الطرفين عبر البريد الإلكتروني الرسمي أو الخطابات المعتمدة أو أي وسيلة يتم الاتفاق عليها، ويعد أي إشعار
            مرسل إلى العناوين الموضحة في صدر هذا العقد منتجًا لآثاره القانونية ما لم يتم إشعار بخلاف ذلك كتابيًا.
        </div>
    </div>

    <div class="section">
        <div class="section-title">المادة السابعة: حل النزاعات</div>
        <div class="notes" contenteditable="true">
            في حال وقوع أي خلاف بين الطرفين حول تفسير أو تنفيذ هذا العقد يتم حله وديًا قدر الإمكان، وفي حال تعذر ذلك يكون الاختصاص
            للمحاكم والجهات القضائية المختصة في المملكة العربية السعودية.
        </div>
    </div>

    <div class="section">
        <div class="section-title">المادة الثامنة: نسخ العقد والتوقيع الإلكتروني</div>
        <div class="notes" contenteditable="true">
            نظرًا للظروف الحالية واعتماد وسائل الاتصال الإلكترونية، يقر الطرفان بصحة النسخة الرقمية لهذا العقد، ويجوز اعتماده بالتوقيع الإلكتروني
            أو الختم الرقمي، على أن يتم توقيع النسخ الورقية وتسليم نسخة لكل طرف عند الطلب، دون أن يؤثر ذلك على صحة النسخة الإلكترونية.
        </div>
    </div>

    <div class="section signatures">
        <div class="sign-box">
            <div class="sign-title">الطرف الأول (العميل)</div>
            <div>الاسم: <span contenteditable="true">..........................................</span></div>
            <div>التوقيع: <span contenteditable="true">..........................................</span></div>
        </div>
        <div class="sign-box">
            <div class="sign-title">الطرف الثاني – مؤسسة آر كي ال RKL</div>
            <div>الاسم: <span contenteditable="true">..........................................</span></div>
            <div>الصفة: <span contenteditable="true">المدير العام</span></div>
            <div>التوقيع والختم: <span contenteditable="true">..........................................</span></div>
        </div>
    </div>

    <div style="margin-top: 18px; font-size: 12px; text-align: center;" contenteditable="true">
        والله الموفق، وهو خير الشاهدين.
    </div>
</div>

    <script>
  const QUOTES_STORAGE_KEY = 'rkl_quotes';

  function loadStoredQuotes() {
    try {
      return JSON.parse(localStorage.getItem(QUOTES_STORAGE_KEY) || '[]');
    } catch (e) {
      console.error('خطأ في قراءة عروض الأسعار من LocalStorage', e);
      return [];
    }
  }

  function populateQuoteSelector() {
    const select = document.getElementById('quote-selector');
    if (!select) return;

    const quotes = loadStoredQuotes();
    select.innerHTML = '<option value="">اختر عرض سعر من السجل...</option>';

    quotes.forEach((q, index) => {
      const dateStr   = q.timestamp ? q.timestamp.slice(0, 10) : '';
      const customer  = q.customerName || 'بدون اسم عميل';
      const quoteNo   = q.quoteNumber || `#${index + 1}`;
      const opt       = document.createElement('option');
      opt.value       = index.toString();
      opt.textContent = `${quoteNo} – ${customer} – ${dateStr}`;
      select.appendChild(opt);
    });

    if (!quotes.length) {
      const opt = document.createElement('option');
      opt.value = '';
      opt.textContent = 'لا توجد عروض أسعار محفوظة في هذا المتصفح';
      opt.disabled = true;
      select.appendChild(opt);
    }
  }

  function applyQuoteToFirstPage(q) {
    // رقم العرض والتاريخ
    const offerNumber = document.getElementById('offerNumber');
    const offerDate   = document.getElementById('offerDate');
    if (offerNumber) offerNumber.textContent = q.quoteNumber || '';
    if (offerDate)   offerDate.textContent   = (q.timestamp || '').slice(0, 10);

    // بيانات العميل
    const customerName    = document.getElementById('customerName');
    const customerPhone   = document.getElementById('customerPhone');
    const customerEmail   = document.getElementById('customerEmail');
    const projectCity     = document.getElementById('projectCity');
    const projectAddress  = document.getElementById('projectAddress');

    if (customerName)   customerName.textContent   = q.customerName   || '';
    if (customerPhone)  customerPhone.textContent  = q.customerPhone  || '';
    if (customerEmail)  customerEmail.textContent  = q.customerEmail  || '';
    // المدينة إذا لم يكن لها حقل مستقل، نتركها فارغة ليعدلها المستخدم يدويًا
    if (projectCity)    projectCity.textContent    = q.projectCity || '';
    if (projectAddress) projectAddress.textContent = q.customerAddress || '';

    // بيانات المشروع
    const projectName     = document.getElementById('projectName');
    const projectLocation = document.getElementById('projectLocation');
    if (projectName)     projectName.textContent     = q.projectName     || '';
    if (projectLocation) projectLocation.textContent = q.projectLocation || '';

    // ملخص التسعير
    const brand         = document.getElementById('brand');
    const systemType    = document.getElementById('systemType');
    const capacitySpeed = document.getElementById('capacitySpeed');
    const floors        = document.getElementById('floors');
    const elevatorCount = document.getElementById('elevatorCount');
    const liftPrice     = document.getElementById('liftPrice');
    const totalPrice    = document.getElementById('totalPrice');

    if (brand)         brand.textContent         = q.brand || '';
    if (systemType)    systemType.textContent    = q.spec_system || '';   // أو استخرجها من brand
    if (capacitySpeed) capacitySpeed.textContent = q.capacity_speed || '';
    if (floors)        floors.textContent        = q.floors_stops || '';
    if (elevatorCount) elevatorCount.textContent = q.elevator_count || '';
    if (liftPrice)     liftPrice.textContent     = q.elevator_price || '';
    if (totalPrice)    totalPrice.textContent    = q.total_price || '';

    // المواصفات المختصرة
    const specSystem = document.getElementById('specSystem');
    const specUsage  = document.getElementById('specUsage');
    const specCabin  = document.getElementById('specCabin');
    const specDoors  = document.getElementById('specDoors');
    const specFloor  = document.getElementById('specFloor');

    if (specSystem) specSystem.textContent = q.spec_system   || '';
    if (specUsage)  specUsage.textContent  = q.spec_usage    || '';
    if (specCabin)  specCabin.textContent  = q.spec_cabin    || '';
    if (specDoors)  specDoors.textContent  = q.spec_doors    || '';
    if (specFloor)  specFloor.textContent  = q.spec_flooring || '';

    // ملاحظات عامة إن وجدت في السجل
    const notesBlock = document.querySelector('.notes[contenteditable="true"]');
    if (notesBlock && q.general_notes) {
      notesBlock.textContent = q.general_notes;
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    const select = document.getElementById('quote-selector');
    if (!select) return;

    populateQuoteSelector();

    select.addEventListener('change', () => {
      const quotes = loadStoredQuotes();
      const index  = Number(select.value);
      const q      = quotes[index];
      if (q) applyQuoteToFirstPage(q);
    });
  });
</script>

    <script>
// ---------- قراءة السجل المحفوظ ----------
document.addEventListener("DOMContentLoaded", function () {
    const recordSelect = document.getElementById("savedOfferSelect");
    const priceField = document.getElementById("totalPrice");
    const brandField = document.getElementById("brand");
    const speedField = document.getElementById("speed");
    const capacityField = document.getElementById("capacity");
    const floorsField = document.getElementById("floors");
    const countField = document.getElementById("elevatorCount");

    // تحميل السجلات من localStorage
    const saved = localStorage.getItem("savedElevatorQuotes");
    if (!saved) return;

    const records = JSON.parse(saved);

    // تعبئة القائمة
    records.forEach(r => {
        const opt = document.createElement("option");
        opt.value = r.quoteID;
        opt.textContent = `${r.quoteID} – ${r.projectName} – ${r.date}`;
        recordSelect.appendChild(opt);
    });

    // عند تغيير الاختيار
    recordSelect.addEventListener("change", function () {
        const selected = records.find(r => r.quoteID === this.value);
        if (!selected) return;

        // تعبئة النموذج
        brandField.textContent = selected.brand;
        speedField.textContent = selected.speed;
        capacityField.textContent = selected.capacity;
        floorsField.textContent = selected.floors;
        countField.textContent = selected.elevatorCount;
        priceField.textContent = selected.totalWithVat;
    });
});
</script>



</body>
</html>












