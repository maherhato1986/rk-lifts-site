<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>RKL | Elevator 3D Viewer</title>
<style>
  html, body {
    margin: 0;
    height: 100%;
    background: #0b1220;
    overflow: hidden;
  }
  #viewer {
    width: 100%;
    height: 100%;
  }
</style>
</head>
<body>

<div id="viewer"></div>

<!-- THREE LOCAL -->
<script src="/public/js/three/three.min.js"></script>

<script>
  // Scene
  const scene = new THREE.Scene();
  scene.background = new THREE.Color(0x0b1220);

  // Camera
  const camera = new THREE.PerspectiveCamera(
    60,
    window.innerWidth / window.innerHeight,
    1,
    50000
  );
  camera.position.set(4000, 6000, 9000);
  camera.lookAt(0, 3000, 0);

  // Renderer
  const renderer = new THREE.WebGLRenderer({ antialias: true });
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.getElementById('viewer').appendChild(renderer.domElement);

  // Light
  scene.add(new THREE.AmbientLight(0xffffff, 0.8));
  const dirLight = new THREE.DirectionalLight(0xffffff, 0.6);
  dirLight.position.set(3000, 8000, 5000);
  scene.add(dirLight);

  // Shaft
  const shaft = new THREE.Mesh(
    new THREE.BoxGeometry(3000, 12000, 3000),
    new THREE.MeshBasicMaterial({
      color: 0x00ff88,
      wireframe: true
    })
  );
  shaft.position.y = 6000;
  scene.add(shaft);

  // Cabin
  const cabin = new THREE.Mesh(
    new THREE.BoxGeometry(2000, 2200, 2000),
    new THREE.MeshStandardMaterial({
      color: 0xaaaaaa
    })
  );
  cabin.position.y = 1100;
  scene.add(cabin);

  // Animate
  let direction = 1;
  function animate() {
    requestAnimationFrame(animate);

    cabin.position.y += direction * 5;
    if (cabin.position.y > 10000 || cabin.position.y < 1100) {
      direction *= -1;
    }

    renderer.render(scene, camera);
  }
  animate();

  // Resize
  window.addEventListener('resize', () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });
</script>

</body>
</html>
