<head>
<meta charset="UTF-8">
<title>Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø© - RKL</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Open Graph for WhatsApp (Ù…Ù‡Ù… Ø¬Ø¯Ù‹Ø§) -->
<meta property="og:title" content="RKL Ù„Ù„Ù…ØµØ§Ø¹Ø¯ | Ù†Ù…ÙˆØ°Ø¬ Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø© Ø±Ø³Ù…ÙŠ">
<meta property="og:description" content="Ù†Ù…ÙˆØ°Ø¬ Ø±Ø³Ù…ÙŠ Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø·Ù„Ø¨Ø§Øª ØµÙŠØ§Ù†Ø© ÙˆØªÙˆØ±ÙŠØ¯ Ø§Ù„Ù…ØµØ§Ø¹Ø¯ Ù„Ø¯Ù‰ Ù…Ø¤Ø³Ø³Ø©  RKL. Ø·Ù„Ø¨Ùƒ Ù…ÙˆØ«Ù‚ ÙˆÙŠØµÙ„ Ù…Ø¨Ø§Ø´Ø±Ø© Ù„Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙÙ†ÙŠØ©.">
<meta property="og:image" content="https://rkl.sa/public/images/logo.png">
<meta property="og:url" content="https://rkl.sa/quote-request.html">
<meta property="og:type" content="website">

<!-- Twitter (Ø§Ø­ØªÙŠØ§Ø·ÙŠ) -->
<meta name="twitter:card" content="summary_large_image">

<style>
        :root {
            --primary-color: #0f172a; /* Ø§Ù„ÙƒØ­Ù„ÙŠ Ø§Ù„Ø±Ø³Ù…ÙŠ */
            --accent-color: #4f46e5;  /* Ø§Ù„Ø£Ø²Ø±Ù‚ Ø§Ù„ØªÙ‚Ù†ÙŠ */
            --bg-gradient: linear-gradient(180deg, #f8fafc 0%, #f1f5f9 100%);
            --card-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05), 0 8px 10px -6px rgba(0, 0, 0, 0.05);
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: var(--bg-gradient);
            color: #1e293b;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 850px;
            margin: 40px auto;
            background: #ffffff;
            padding: 40px;
            border-radius: 24px;
            box-shadow: var(--card-shadow);
            border: 1px solid #e2e8f0;
        }

        /* Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© */
        .intro-box {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
            text-align: center;
        }

        .intro-logo {
            width: 90px;
            height: auto;
            margin-bottom: 15px;
        }

        .intro-header h1 {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-color);
            margin: 0 0 15px 0;
        }

        .intro-text {
            color: #475569;
            font-size: 16px;
            max-width: 600px;
            margin: 0 auto 20px auto;
        }

        .intro-features {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            list-style: none;
            padding: 0;
            max-width: 550px;
            margin: 0 auto;
            text-align: right;
        }

        .intro-features li {
            font-size: 14px;
            color: #334155;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .intro-features li span {
            color: var(--accent-color);
            font-weight: bold;
        }

        /* Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¹Ø§Ù… Ù„Ù„Ø­Ù‚ÙˆÙ„ */
        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--primary-color);
            margin: 30px 0 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 2px solid #f1f5f9;
            padding-bottom: 10px;
        }

        label {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 8px;
            display: block;
            color: #334155;
        }

        input, select, textarea {
            width: 100%;
            padding: 14px 16px;
            border-radius: 12px;
            border: 1.5px solid #e2e8f0;
            background-color: #ffffff;
            font-family: inherit;
            font-size: 15px;
            transition: all 0.3s ease;
            box-sizing: border-box;
            margin-bottom: 20px;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.08);
            background-color: #fff;
        }

        /* Ø²Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ */
        button[type="submit"] {
            width: 100%;
            background: var(--primary-color);
            color: #fff;
            border: none;
            padding: 18px;
            font-size: 18px;
            font-weight: 700;
            border-radius: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
            box-shadow: 0 4px 12px rgba(15, 23, 42, 0.15);
        }

        button[type="submit"]:hover {
            background: #1e293b;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(15, 23, 42, 0.2);
        }

        /* Ù‚Ø³Ù… Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª ÙˆØ§Ù„Ù…ÙˆÙ‚Ø¹ */
        .grid-half {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .summary-box {
            background: #fdfdfd;
            border: 1px dashed #cbd5e1;
            padding: 20px;
            border-radius: 12px;
            margin-top: 20px;
        }

        .hidden { display: none !important; }

        @media (max-width: 600px) {
            .intro-features { grid-template-columns: 1fr; }
            .grid-half { grid-template-columns: 1fr; }
            .container { padding: 20px; }
        }
    </style>
</head>

<body>
<form action="https://formsubmit.co/admin@rkl.sa"
      method="POST"
      enctype="multipart/form-data"
      onsubmit="prepareBeforeSubmit();">
<div class="container">
      <!-- ===== Ù†Ø¨Ø°Ø© Ø¹Ù† Ø§Ù„Ù…Ø¤Ø³Ø³Ø© ===== -->
<div class="intro-box">
  <div class="intro-header">
    <img src="https://rkl.sa/public/images/logo.png" alt="RKL Logo" class="intro-logo">
   <h1>Ù†Ù…ÙˆØ°Ø¬ Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø© Ù…ØµØ§Ø¹Ø¯ â€“ RKL</h1>
  </div>

<p class="intro-text">
Ù†Ø±Ø­Ù‘Ø¨ Ø¨ÙƒÙ… ÙÙŠ <strong>RKL Ù„Ù„Ù…ØµØ§Ø¹Ø¯ ÙˆØ§Ù„Ø³Ù„Ø§Ù„Ù… Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©</strong>.<br>
ØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ÙƒÙ‚Ù†Ø§Ø© Ø±Ø³Ù…ÙŠØ© Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø·Ù„Ø¨Ø§Øª
<strong>Ø§Ù„ØµÙŠØ§Ù†Ø©ØŒ Ø§Ù„ØªÙˆØ±ÙŠØ¯ØŒ ÙˆØ§Ù„ØªØ±ÙƒÙŠØ¨</strong>
Ø¨Ù…Ù†Ù‡Ø¬ÙŠØ© Ù…Ù‡Ù†ÙŠØ© ØªØ¶Ù…Ù† Ø³Ø±Ø¹Ø© Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©ØŒ Ø¯Ù‚Ø© Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ÙÙ†ÙŠØŒ ÙˆØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ø·Ù„Ø¨ Ù…Ù†Ø° Ù„Ø­Ø¸Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„.
</p>


<ul class="intro-features">
  <li><span>âœ”</span> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ø±Ù‚Ù… Ù…Ø±Ø¬Ø¹ÙŠ Ø±Ø³Ù…ÙŠ Ù‚Ø§Ø¨Ù„ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©</li>
  <li><span>âœ”</span> ÙˆØµÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙÙ†ÙŠØ© Ø§Ù„Ù…Ø®ØªØµØ©</li>
  <li><span>âœ”</span> Ø¥Ø´Ø¹Ø§Ø± ÙÙˆØ±ÙŠ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆÙˆØ§ØªØ³Ø§Ø¨</li>
  <li><span>âœ”</span> Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø³Ø±ÙŠØ© ÙˆÙ…Ù‡Ù†ÙŠØ© ØªØ§Ù…Ø©</li>
</ul>


</div>


  <img src="https://rkl.sa/public/images/logo.png" alt="RKL" style="width:40px">
  Ù†Ù…ÙˆØ°Ø¬ Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø©
</h2>

<input type="hidden" name="_template" value="box">

<input type="hidden" name="_blacklist" value="*">
<input type="hidden" id="request_type" name="request_type" value="">

<!-- Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ -->
<div class="section">
<label>Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„</label>
<input id="name">


<label>Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ (Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø¯Ù…Ø© Ù…ØªÙˆÙØ±Ù‡ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© ÙÙ‚Ø·)</label>
<input id="phone" placeholder="05XXXXXXXX" required>
  <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ (Ø­ØªÙ‰ ÙŠØµÙ„Ùƒ Ù†Ø³Ø®Ø© Ù…Ù† Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ù…Ø±Ø³Ù„)</label>
<input id="email" name="email" placeholder="example@email.com" required>




<select id="type" onchange="toggleType()">
  <option value="">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨</option>
  <option value="maintenance">ØµÙŠØ§Ù†Ø© Ù…ØµØ§Ø¹Ø¯</option>
  <option value="supply">ØªÙˆØ±ÙŠØ¯ ÙˆØªØ±ÙƒÙŠØ¨ Ù…ØµØ§Ø¹Ø¯</option>
  <option value="consult">Ø§Ø³ØªØ´Ø§Ø±Ø© ÙÙ‚Ø·</option>
</select>



<div id="contractQuestion" style="display:none">

  <label>Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø¹Ù‚Ø¯ Ù…Ø¹Ù†Ø§ØŸ</label>
  <select id="hasContract" onchange="toggleContractFlow()">
    <option value="">Ø§Ø®ØªØ±</option>
    <option value="yes">Ù†Ø¹Ù…</option>
    <option value="no">Ù„Ø§</option>
  </select>
</div>



<div id="withContract" style="display:none">

  <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ / Ø§Ù„Ù…ÙˆÙ‚Ø¹</label>
  <input type="text" name="project_name">

  <label>  Ù†ÙˆØ¹ Ø§Ù„Ø¨Ù„Ù„Ø§Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨</label>
  <select name="issue_type">
    <option>ØµÙŠØ§Ù†Ø© Ø¯ÙˆØ±ÙŠØ©</option>
    <option>Ø¹Ø·Ù„ Ù…ÙØ§Ø¬Ø¦</option>
    <option>Ø§Ø­ØªØ¬Ø§Ø²</option>
    <option>Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„</option>
  </select>

  <label>Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ¹Ø¯</label>
  <select name="lift_status">
    
    <option>ÙŠØ¹Ù…Ù„ Ù…Ø¹ Ù…Ù„Ø§Ø­Ø¸Ø§Øª</option>
    <option>Ù…ØªÙˆÙ‚Ù</option>
  </select>

  <label>Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„Ø·Ù„Ø¨</label>
  <select name="priority">
    <option>Ø¹Ø§Ø¯ÙŠ</option>
    <option>Ø¹Ø§Ø¬Ù„</option>
    <option>Ø·Ø§Ø±Ø¦</option>
  </select>

  <label>ÙˆØµÙ Ø§Ù„Ø¹Ø·Ù„</label>
  <textarea name="description_contract"></textarea>






</div>


<div id="withoutContract" style="display:none">

  <label>Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</label>
  <select name="service_type" id="serviceType" onchange="toggleVisits()">

    
    <option>Ø¹Ø±Ø¶ Ø³Ø¹Ø± Ø²ÙŠØ§Ø±Ø© Ù„Ù…Ø±Ù‡ ÙˆØ§Ø­Ø¯Ø©</option>
    <option>Ø¹Ø±Ø¶ Ø³Ø¹Ø± Ø¹Ù‚Ø¯ ØµÙŠØ§Ù†Ø© ÙˆÙ‚Ø§Ø¦ÙŠØ© Ø³Ù†ÙˆÙŠ</option>
  </select>
      <label id="visitsLabel" style="display:none">Ø¹Ø¯Ø¯ Ø²ÙŠØ§Ø±Ø§Øª Ø§Ù„ØµÙŠØ§Ù†Ø© Ø§Ù„Ø³Ù†ÙˆÙŠØ©</label>
<select name="maintenance_visits" id="maintenanceVisits" style="display:none">
  <option value="">Ø§Ø®ØªØ± Ø¹Ø¯Ø¯ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª</option>
  <option value="12">12 Ø²ÙŠØ§Ø±Ø© Ø³Ù†ÙˆÙŠØ©</option>
  <option value="6">6 Ø²ÙŠØ§Ø±Ø§Øª Ø³Ù†ÙˆÙŠØ©</option>
</select>


  <label>Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØµØ§Ø¹Ø¯</label>
  <input type="number" name="lifts_count">
  <label>Ø¹Ø¯Ø¯ Ø§Ù„ÙˆÙ‚ÙØ§Øª (Ø§Ù„Ø£Ø¯ÙˆØ§Ø±)</label>
<input type="number" name="stops_count" placeholder="Ù…Ø«Ø§Ù„: 10">

<label>Ø­Ù…ÙˆÙ„Ø© Ø§Ù„Ù…ØµØ¹Ø¯ (ÙƒØ¬Ù…)</label>
<select name="capacity">
  <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø­Ù…ÙˆÙ„Ø©</option>
  <option>450</option>
  <option>630</option>
  <option>800</option>
  <option>1000</option>
  <option>1600</option>
</select>

<label>Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¨Ù†Ù‰</label>
<select name="building_type">
  <option value="">Ø§Ø®ØªØ±</option>
  <option>Ø³ÙƒÙ†ÙŠ</option>
  <option>Ø­ÙƒÙˆÙ…ÙŠ</option>
</select>


<label>Ù†ÙˆØ¹ Ø§Ù„Ù…ØµØ§Ø¹Ø¯</label>
<select name="lift_brand">
  <option>ÙÙˆØ¬ÙŠ</option>
  <option>Ø´Ù†Ø¯Ù„Ø±</option>
  <option>ÙˆÙŠØªÙˆØ±</option>
  <option>Ø§ÙˆØªÙŠØ³</option>
  <option>ØªØ¬Ù…ÙŠØ¹ Ù…Ø­Ù„ÙŠ</option>
  <option>Ù„Ø§ Ø§Ø¹Ø±Ù</option>
</select>

<label>Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ¹Ø¯</label>
<select name="lift_condition">
  <option>ÙŠØ¹Ù…Ù„</option>
  <option>Ù…ØªÙˆÙ‚Ù</option>
  <option>Ø¨Ù‡ Ù…Ø´Ø§ÙƒÙ„</option>
</select>


  <label>Ø§Ù„Ø¹Ù…Ø± Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ Ù„Ù„Ù…ØµØ¹Ø¯</label>
  <select name="lift_age">
    <option>Ø£Ù‚Ù„ Ù…Ù† 5 Ø³Ù†ÙˆØ§Øª</option>
    <option>5 â€“ 10 Ø³Ù†ÙˆØ§Øª</option>
    <option>Ø£ÙƒØ«Ø± Ù…Ù† 10 Ø³Ù†ÙˆØ§Øª</option>
  </select>




  <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¹Ù† Ø§Ù„Ù…ØµØ§Ø¹Ø¯ </label>
  <textarea name="description_no_contract"></textarea>

</div>

<!-- âœ… Ù…Ø±ÙÙ‚Ø§Øª Ø§Ù„Ø·Ù„Ø¨ (ÙŠØ¹Ù…Ù„ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª) -->
<div class="section" id="attachmentsSection">
  <label>Ø¥Ø±ÙØ§Ù‚ ØµÙˆØ± / Ù…Ù„ÙØ§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
  <small style="color:#666;">
    â€¢ ÙŠÙ…ÙƒÙ†Ùƒ Ø±ÙØ¹ ØµÙˆØ± Ù…ØªØ¹Ø¯Ø¯Ø© Ø£Ùˆ Ù…Ù„Ù PDF / Word<br>
    â€¢ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª Ø³ØªØµÙ„ Ù…Ø±ÙÙ‚Ø© ÙÙŠ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§
  </small>

  <input
    type="file"
    id="attachments"
    name="attachments"
    accept="image/*,application/pdf,.doc,.docx"
    multiple>
</div>

<div id="mapSection">
  <label>Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹</label>
  <input type="text" id="location" readonly>
  <div id="map" style="height:300px;border-radius:8px;margin-top:10px;"></div>
</div>



<!-- ØªÙˆØ±ÙŠØ¯ ÙˆØªØ±ÙƒÙŠØ¨ -->
<div id="supply" class="section" style="display:none">

  <h3 style="margin-top:0">Ù‚Ø³Ù… ØªÙˆØ±ÙŠØ¯ ÙˆØªØ±ÙƒÙŠØ¨ Ø§Ù„Ù…ØµØ§Ø¹Ø¯</h3>

  <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹</label>
  <input id="project" name="project_name_supply" placeholder="Ù…Ø«Ø§Ù„: Ø¨Ø±Ø¬ Ø§Ù„Ø³Ù„ÙŠÙ…Ø§Ù†ÙŠØ©">

  <label>Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹</label>
  <input name="city_supply" placeholder="Ù…Ø«Ø§Ù„: Ø§Ù„Ø±ÙŠØ§Ø¶">

  <label>Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¨Ù†Ù‰</label>
  <select name="building_type_supply">
    <option value="">Ø§Ø®ØªØ±</option>
    <option>Ø³ÙƒÙ†ÙŠ</option>
    <option>ØªØ¬Ø§Ø±ÙŠ</option>
    <option>Ù…Ø³ØªØ´ÙÙ‰</option>
    <option>Ø­ÙƒÙˆÙ…ÙŠ</option>
    <option>Ù…Ø¯Ø±Ø³Ø©</option>
    <option>ÙÙ†Ø¯Ù‚</option>
  </select>

  <label>Ù†ÙˆØ¹ Ø§Ù„Ù…ØµØ¹Ø¯ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨</label>
  <select name="elevator_usage_supply">
    <option value="">Ø§Ø®ØªØ±</option>
    <option>Ø±ÙƒØ§Ø¨ (Passenger)</option>
    <option>Ø®Ø¯Ù…Ø§Øª (Service)</option>
    <option>Ø¨Ø§Ù†ÙˆØ±Ø§Ù…Ø§ (Panoramic)</option>
    <option>Ù…Ø³ØªØ´ÙÙ‰ (Bed)</option>
    <option>Ø¨Ø¶Ø§Ø¦Ø¹ (Goods)</option>
  </select>

  <div class="grid" style="grid-template-columns:repeat(2,1fr);gap:12px">
    <div>
      <label>Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØµØ§Ø¹Ø¯</label>
      <input type="number" name="lifts_count_supply" min="1" placeholder="Ù…Ø«Ø§Ù„: 2">
    </div>
    <div>
      <label>Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¯ÙˆØ§Ø± / Ø§Ù„ÙˆÙ‚ÙØ§Øª</label>
      <input type="number" name="stops_count_supply" min="2" placeholder="Ù…Ø«Ø§Ù„: 10">
    </div>
  </div>

  <div class="grid" style="grid-template-columns:repeat(2,1fr);gap:12px">
    <div>
      <label>Ø­Ù…ÙˆÙ„Ø© Ø§Ù„Ù…ØµØ¹Ø¯ (ÙƒØ¬Ù…)</label>
      <select name="capacity_supply">
        <option value="">Ø§Ø®ØªØ±</option>
        <option>450</option><option>630</option><option>800</option>
        <option>1000</option><option>1275</option><option>1600</option><option>2000</option>
      </select>
    </div>
    <div>
      <label>Ø§Ù„Ø³Ø±Ø¹Ø© (Ù…/Ø«)</label>
      <select name="speed_supply">
        <option value="">Ø§Ø®ØªØ±</option>
        <option>1.0</option><option>1.5</option><option>1.75</option><option>2.0</option>
      </select>
    </div>
  </div>

  <label>Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„</label>
  <select name="system_supply">
    <option value="">Ø§Ø®ØªØ±</option>
    <option>MRL (Ø¨Ø¯ÙˆÙ† ØºØ±ÙØ© Ù…Ø§ÙƒÙŠÙ†Ø©)</option>
    <option>MR (ØºØ±ÙØ© Ù…Ø§ÙƒÙŠÙ†Ø©)</option>
    <option>Hydraulic (Ù‡ÙŠØ¯Ø±ÙˆÙ„ÙŠÙƒ)</option>
  </select>

  <label>Ù†ÙˆØ¹ Ø§Ù„Ø¨Ø§Ø¨</label>
  <select name="door_type_supply">
    <option value="">Ø§Ø®ØªØ±</option>
    <option>Ø³Ù†ØªØ±Ø§Ù„ (Center Opening)</option>
    <option>Ø³Ø§ÙŠØ¯ (Side Opening)</option>
    <option>ØªÙ„Ø³ÙƒÙˆØ¨ÙŠ (Telescopic)</option>
  </select>

  <label>ÙØªØ­Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„</label>
  <select name="openings_supply">
    <option value="">Ø§Ø®ØªØ±</option>
    <option>ÙØªØ­Ø© ÙˆØ§Ø­Ø¯Ø©</option>
    <option>ÙØªØ­ØªÙŠÙ† Ù…ØªÙ‚Ø§Ø¨Ù„ØªÙŠÙ†</option>
    <option>ÙØªØ­ØªÙŠÙ† Ù…ØªØ¹Ø§Ù…Ø¯ØªÙŠÙ†</option>
  </select>

  <label>ØªØºØ°ÙŠØ© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡ Ø¨Ø§Ù„Ù…ÙˆÙ‚Ø¹</label>
  <select name="power_supply">
    <option value="">Ø§Ø®ØªØ±</option>
    <option>220V 1Phase</option>
    <option>380V 3Phase</option>
  </select>

  <h4 style="margin:18px 0 8px">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ø¦Ø± (Ø§Ø®ØªÙŠØ§Ø±ÙŠ â€“ Ø¥Ø°Ø§ Ù…ØªÙˆÙØ±)</h4>
  <div class="grid" style="grid-template-columns:repeat(2,1fr);gap:12px">
    <div>
      <label>Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ø¦Ø± (mm)</label>
      <input type="number" name="shaft_w" placeholder="Ù…Ø«Ø§Ù„: 2000">
    </div>
    <div>
      <label>Ø¹Ù…Ù‚ Ø§Ù„Ø¨Ø¦Ø± (mm)</label>
      <input type="number" name="shaft_d" placeholder="Ù…Ø«Ø§Ù„: 1800">
    </div>
  </div>

  <div class="grid" style="grid-template-columns:repeat(2,1fr);gap:12px">
    <div>
      <label>Ø§Ù„Ø­ÙØ±Ø© PIT (mm)</label>
      <input type="number" name="pit_mm" placeholder="Ù…Ø«Ø§Ù„: 1200">
    </div>
    <div>
      <label>Ø§Ù„Ø¹Ù„ÙˆÙŠ OH (mm)</label>
      <input type="number" name="oh_mm" placeholder="Ù…Ø«Ø§Ù„: 4200">
    </div>
  </div>

  <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª / Ù…ØªØ·Ù„Ø¨Ø§Øª Ø®Ø§ØµØ©</label>
  <textarea name="supply_notes" placeholder="Ø§Ø°ÙƒØ± Ø£ÙŠ Ø§Ø´ØªØ±Ø§Ø·Ø§ØªØŒ ÙˆÙ‚Øª Ø§Ù„ØªØ³Ù„ÙŠÙ…ØŒ Ø£Ùˆ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¹Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹"></textarea>

</div>




<!-- Ù…Ù„Ø®Øµ -->
<div class="section">
<button type="button" onclick="showSummary()">
ğŸ“‹ Ø¹Ø±Ø¶ Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨
</button>

<div id="summaryBox" class="summary hidden"></div>
</div>
<p style="font-size:14px;color:#475569;margin-top:25px;text-align:center;line-height:1.8">
ğŸ“Œ Ø¨Ø¹Ø¯ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø³ÙŠØªÙ… ØªØ²ÙˆÙŠØ¯ÙƒÙ… Ø¨Ø±Ù‚Ù… Ù…Ø±Ø¬Ø¹ÙŠ Ø±Ø³Ù…ÙŠØŒ  
ÙˆØ³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ÙƒÙ… Ù…Ù† Ù‚Ø¨Ù„ ÙØ±ÙŠÙ‚ RKL Ø§Ù„ÙÙ†ÙŠ Ø®Ù„Ø§Ù„ Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª Ù…Ù…ÙƒÙ†.
</p>

<button type="submit">
ğŸ“¨ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨
</button>


<input type="hidden" name="Ø±Ù‚Ù…_Ø§Ù„Ø·Ù„Ø¨" id="request_id">


<input type="hidden" name="_subject" id="email_subject"
value="ğŸ“© Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø© Ø¬Ø¯ÙŠØ¯ â€“ RKL">



  <input type="hidden" name="_captcha" value="false">


  <!-- Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„ØªÙŠ Ø³ØªØ¸Ù‡Ø± ÙÙŠ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ -->
<input type="hidden" name="Ù…ÙˆÙ‚Ø¹_Ø§Ù„Ù…Ø´Ø±ÙˆØ¹" id="location_hidden">


  <!-- Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ (ÙŠØ¸Ù‡Ø± ÙƒÙ†Øµ Ø®Ø§Ø±Ø¬ Ø§Ù„Ø¬Ø¯ÙˆÙ„) -->
  <input type="hidden" name="_language" value="ar">

  <!-- Ø¥Ø±Ø³Ø§Ù„ Ù†Ø³Ø®Ø© Ù…Ù† Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ Ù„Ù„Ø¹Ù…ÙŠÙ„ -->
  <input type="hidden" name="_cc" id="cc_email">

<input type="hidden" name="Ù…Ù„Ø®Øµ_Ø§Ù„Ø·Ù„Ø¨_Ø§Ù„ÙƒØ§Ù…Ù„" id="full_summary">

</form>




<p style="font-size:13px;color:#777;margin-top:10px;text-align:center;">
ğŸ”’ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­ÙÙˆØ¸Ø© Ø¨Ø³Ø±ÙŠØ© ØªØ§Ù…Ø© ÙˆÙ„Ù† ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ Ø¥Ù„Ø§ Ù„ØºØ±Ø¶ Ø§Ù„Ø®Ø¯Ù…Ø©.
</p>

</div>
<script>
/* =========================
   Globals
========================= */
let map, marker;
window.__rklMapInitialized = false;

/* =========================
   Helpers
========================= */
function v(id){
  return (document.getElementById(id)?.value ?? "â€”").toString().trim() || "â€”";
}
function vn(name){
  return (document.querySelector(`[name="${name}"]`)?.value ?? "â€”").toString().trim() || "â€”";
}

/* =========================
   Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
========================= */
function hideAllSections() {
  const ids = ["withContract","withoutContract","supply","mapSection"];
  ids.forEach(i => {
    const el = document.getElementById(i);
    if (el) el.style.display = "none";
  });
}

/* =========================
   Ù‡Ù„ ÙŠÙˆØ¬Ø¯ Ø¹Ù‚Ø¯ØŸ
========================= */
function toggleContractFlow() {
  const val = document.getElementById("hasContract")?.value || "";
  const withC = document.getElementById("withContract");
  const withoutC = document.getElementById("withoutContract");
  if (withC) withC.style.display = "none";
  if (withoutC) withoutC.style.display = "none";

  if (val === "yes" && withC) withC.style.display = "block";
  if (val === "no"  && withoutC) withoutC.style.display = "block";
}

/* =========================
   Google Map
========================= */
function initMap() {
  const mapEl = document.getElementById("map");
  if (!mapEl) return;

  const defaultLocation = { lat: 24.7136, lng: 46.6753 };

  map = new google.maps.Map(mapEl, {
    center: defaultLocation,
    zoom: 12
  });

  window.map = map;
  window.__rklMapInitialized = true;

  map.addListener("click", function (e) {
    if (marker) marker.setMap(null);

    marker = new google.maps.Marker({
      position: e.latLng,
      map: map
    });

    document.getElementById("location").value =
      `https://maps.google.com/?q=${e.latLng.lat()},${e.latLng.lng()}`;
  });
}

/* =========================
   Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨
========================= */
function toggleType() {
  const type = document.getElementById("type")?.value || "";
  document.getElementById("request_type").value = type;

  hideAllSections();

  // Ø¥Ø®ÙØ§Ø¡ Ø³Ø¤Ø§Ù„ Ø§Ù„Ø¹Ù‚Ø¯ Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹
  const cq = document.getElementById("contractQuestion");
  if (cq) cq.style.display = "none";
  const hasC = document.getElementById("hasContract");
  if (hasC) hasC.value = "";

  const showMapAndFix = () => {
    const ms = document.getElementById("mapSection");
    if (ms) ms.style.display = "block";

    setTimeout(() => {
      if (!window.__rklMapInitialized) {
        // Ø¥Ø°Ø§ Google Ø§Ø³ØªØ¯Ø¹Øª initMap Ù‚Ø¨Ù„ Ù…Ø§ ÙŠØ¸Ù‡Ø± Ø§Ù„Ù‚Ø³Ù…ØŒ Ø£Ø¹Ø¯ Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¢Ù†
        try { initMap(); } catch(e) {}
      } else if (window.google?.maps && window.map) {
        google.maps.event.trigger(window.map, "resize");
        try { window.map.setCenter(window.map.getCenter()); } catch(e) {}
      }
    }, 250);
  };

  if (type === "maintenance") {
    if (cq) cq.style.display = "block";
    showMapAndFix();
  }

  if (type === "supply") {
    const supply = document.getElementById("supply");
    if (supply) {
  supply.style.display = "block";
  supply.classList.remove("hidden");
}

    showMapAndFix();
  }

  if (type === "consult") {
    alert("ğŸ“ Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù„ØªÙ‚Ø¯ÙŠÙ… Ø§Ø³ØªØ´Ø§Ø±Ø© ÙÙ†ÙŠØ© Ù…Ø¬Ø§Ù†ÙŠØ©");
  }
}

/* =========================
   Ø¹Ø¯Ø¯ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª (Ù„Ù„Ø¹Ù‚Ø¯ Ø§Ù„Ø³Ù†ÙˆÙŠ)
========================= */
function toggleVisits() {
  const service = document.getElementById("serviceType")?.value || "";
  const visitsSelect = document.getElementById("maintenanceVisits");
  const visitsLabel = document.getElementById("visitsLabel");

  if (!visitsSelect || !visitsLabel) return;

  if (service.includes("Ø¹Ù‚Ø¯ ØµÙŠØ§Ù†Ø©")) {
    visitsSelect.style.display = "block";
    visitsLabel.style.display = "block";
  } else {
    visitsSelect.style.display = "none";
    visitsLabel.style.display = "none";
    visitsSelect.value = "";
  }
}

/* =========================
   Ø¨Ù†Ø§Ø¡ Ù…Ù„Ø®Øµ ÙƒØ§Ù…Ù„ (HTML + Text)
========================= */
function buildFullSummary() {
  const reqType = v("type");          // maintenance | supply | consult
  const hasContract = v("hasContract");
  const location = v("location");

  const typeLabel =
    reqType === "maintenance" ? "ØµÙŠØ§Ù†Ø© Ù…ØµØ§Ø¹Ø¯" :
    reqType === "supply" ? "ØªÙˆØ±ÙŠØ¯ ÙˆØªØ±ÙƒÙŠØ¨ Ù…ØµØ§Ø¹Ø¯" :
    reqType === "consult" ? "Ø§Ø³ØªØ´Ø§Ø±Ø© ÙÙ‚Ø·" : "â€”";

  let detailsHtml = "";
  let detailsText = "";

if (reqType === "supply") {
  detailsHtml = `
    <b>ğŸ—ï¸ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªÙˆØ±ÙŠØ¯:</b><br>
    <b>Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹:</b> ${v("project")}<br>
    <b>Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹:</b> ${vn("city_supply")}<br>
    <b>Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¨Ù†Ù‰:</b> ${vn("building_type_supply")}<br>
    <b>Ù†ÙˆØ¹ Ø§Ù„Ù…ØµØ¹Ø¯:</b> ${vn("elevator_usage_supply")}<br>
    <b>Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØµØ§Ø¹Ø¯:</b> ${vn("lifts_count_supply")}<br>
    <b>Ø¹Ø¯Ø¯ Ø§Ù„ÙˆÙ‚ÙØ§Øª:</b> ${vn("stops_count_supply")}<br>
    <b>Ø§Ù„Ø­Ù…ÙˆÙ„Ø© (ÙƒØ¬Ù…):</b> ${vn("capacity_supply")}<br>
    <b>Ø§Ù„Ø³Ø±Ø¹Ø© (Ù…/Ø«):</b> ${vn("speed_supply")}<br>
    <b>Ø§Ù„Ù†Ø¸Ø§Ù…:</b> ${vn("system_supply")}<br>
    <b>Ù†ÙˆØ¹ Ø§Ù„Ø¨Ø§Ø¨:</b> ${vn("door_type_supply")}<br>
    <b>Ø§Ù„ÙØªØ­Ø§Øª:</b> ${vn("openings_supply")}<br>
    <b>Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡:</b> ${vn("power_supply")}<br>
    <b>Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ø¨Ø¦Ø±:</b> ${vn("shaft_w")} Ã— ${vn("shaft_d")} mm<br>
    <b>PIT:</b> ${vn("pit_mm")} mm â€” <b>OH:</b> ${vn("oh_mm")} mm<br>
    <b>Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</b><br>${vn("supply_notes")}
  `;

  detailsText =
`ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªÙˆØ±ÙŠØ¯:
- Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹: ${v("project")}
- Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©: ${vn("city_supply")}
- Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¨Ù†Ù‰: ${vn("building_type_supply")}
- Ù†ÙˆØ¹ Ø§Ù„Ù…ØµØ¹Ø¯: ${vn("elevator_usage_supply")}
- Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØµØ§Ø¹Ø¯: ${vn("lifts_count_supply")}
- Ø¹Ø¯Ø¯ Ø§Ù„ÙˆÙ‚ÙØ§Øª: ${vn("stops_count_supply")}
- Ø§Ù„Ø­Ù…ÙˆÙ„Ø© (ÙƒØ¬Ù…): ${vn("capacity_supply")}
- Ø§Ù„Ø³Ø±Ø¹Ø© (Ù…/Ø«): ${vn("speed_supply")}
- Ø§Ù„Ù†Ø¸Ø§Ù…: ${vn("system_supply")}
- Ù†ÙˆØ¹ Ø§Ù„Ø¨Ø§Ø¨: ${vn("door_type_supply")}
- Ø§Ù„ÙØªØ­Ø§Øª: ${vn("openings_supply")}
- Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡: ${vn("power_supply")}
- Ø¹Ø±Ø¶/Ø¹Ù…Ù‚ Ø§Ù„Ø¨Ø¦Ø± (mm): ${vn("shaft_w")} Ã— ${vn("shaft_d")}
- PIT (mm): ${vn("pit_mm")} | OH (mm): ${vn("oh_mm")}
- Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${vn("supply_notes")}`;
}


  // ØµÙŠØ§Ù†Ø©
  if (reqType === "maintenance") {
    if (hasContract === "yes") {
      detailsHtml = `
        <b>ğŸ§¾ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØµÙŠØ§Ù†Ø© (ÙŠÙˆØ¬Ø¯ Ø¹Ù‚Ø¯):</b><br>
        <b>Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹/Ø§Ù„Ù…ÙˆÙ‚Ø¹:</b> ${vn("project_name")}<br>
        <b>Ù†ÙˆØ¹ Ø§Ù„Ø¨Ù„Ø§Øº:</b> ${vn("issue_type")}<br>
        <b>Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ¹Ø¯:</b> ${vn("lift_status")}<br>
        <b>Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©:</b> ${vn("priority")}<br>
        <b>ÙˆØµÙ Ø§Ù„Ø¹Ø·Ù„:</b><br>${vn("description_contract")}
      `;
      detailsText =
`ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØµÙŠØ§Ù†Ø© (ÙŠÙˆØ¬Ø¯ Ø¹Ù‚Ø¯):
- Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹/Ø§Ù„Ù…ÙˆÙ‚Ø¹: ${vn("project_name")}
- Ù†ÙˆØ¹ Ø§Ù„Ø¨Ù„Ø§Øº: ${vn("issue_type")}
- Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ¹Ø¯: ${vn("lift_status")}
- Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©: ${vn("priority")}
- ÙˆØµÙ Ø§Ù„Ø¹Ø·Ù„: ${vn("description_contract")}`;
    }

    if (hasContract === "no") {
      const serviceType = vn("service_type");
      const visits = vn("maintenance_visits");
      const visitsHtml = (serviceType.includes("Ø¹Ù‚Ø¯ ØµÙŠØ§Ù†Ø©") && visits !== "â€”") ? `<b>Ø¹Ø¯Ø¯ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø³Ù†ÙˆÙŠØ©:</b> ${visits}<br>` : "";
      const visitsText = (serviceType.includes("Ø¹Ù‚Ø¯ ØµÙŠØ§Ù†Ø©") && visits !== "â€”") ? `- Ø¹Ø¯Ø¯ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø³Ù†ÙˆÙŠØ©: ${visits}\n` : "";

      detailsHtml = `
        <b>ğŸ§¾ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØµÙŠØ§Ù†Ø© (Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù‚Ø¯):</b><br>
        <b>Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø©:</b> ${serviceType}<br>
        ${visitsHtml}
        <b>Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØµØ§Ø¹Ø¯:</b> ${vn("lifts_count")}<br>
        <b>Ø¹Ø¯Ø¯ Ø§Ù„ÙˆÙ‚ÙØ§Øª:</b> ${vn("stops_count")}<br>
        <b>Ø§Ù„Ø­Ù…ÙˆÙ„Ø© (ÙƒØ¬Ù…):</b> ${vn("capacity")}<br>
        <b>Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¨Ù†Ù‰:</b> ${vn("building_type")}<br>
        <b>Ù†ÙˆØ¹ Ø§Ù„Ù…ØµØ§Ø¹Ø¯:</b> ${vn("lift_brand")}<br>
        <b>Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ¹Ø¯:</b> ${vn("lift_condition")}<br>
        <b>Ø§Ù„Ø¹Ù…Ø± Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ:</b> ${vn("lift_age")}<br>
        <b>Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</b><br>${vn("description_no_contract")}
      `;
      detailsText =
`ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØµÙŠØ§Ù†Ø© (Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù‚Ø¯):
- Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø©: ${serviceType}
${visitsText}- Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØµØ§Ø¹Ø¯: ${vn("lifts_count")}
- Ø¹Ø¯Ø¯ Ø§Ù„ÙˆÙ‚ÙØ§Øª: ${vn("stops_count")}
- Ø§Ù„Ø­Ù…ÙˆÙ„Ø© (ÙƒØ¬Ù…): ${vn("capacity")}
- Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¨Ù†Ù‰: ${vn("building_type")}
- Ù†ÙˆØ¹ Ø§Ù„Ù…ØµØ§Ø¹Ø¯: ${vn("lift_brand")}
- Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ¹Ø¯: ${vn("lift_condition")}
- Ø§Ù„Ø¹Ù…Ø± Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ: ${vn("lift_age")}
- Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${vn("description_no_contract")}`.replace(/\n\n/g,"\n");
    }
  }

  const headerHtml = `
    <b>ğŸ§‘â€ğŸ’¼ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„:</b><br>
    <b>Ø§Ù„Ø§Ø³Ù…:</b> ${v("name")}<br>
    <b>Ø§Ù„Ø¬ÙˆØ§Ù„:</b> ${v("phone")}<br>
    <b>Ø§Ù„Ø¨Ø±ÙŠØ¯:</b> ${v("email")}<br>
    <b>Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨:</b> ${typeLabel}<br>
    <b>Ù‡Ù„ ÙŠÙˆØ¬Ø¯ Ø¹Ù‚Ø¯ØŸ</b> ${reqType === "maintenance" ? (hasContract === "yes" ? "Ù†Ø¹Ù…" : hasContract === "no" ? "Ù„Ø§" : "â€”") : "â€”"}<br>
    <b>Ø§Ù„Ù…ÙˆÙ‚Ø¹:</b> ${location}<br><br>
  `;

  const headerText =
`Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„:
- Ø§Ù„Ø§Ø³Ù…: ${v("name")}
- Ø§Ù„Ø¬ÙˆØ§Ù„: ${v("phone")}
- Ø§Ù„Ø¨Ø±ÙŠØ¯: ${v("email")}
- Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨: ${typeLabel}
- Ù‡Ù„ ÙŠÙˆØ¬Ø¯ Ø¹Ù‚Ø¯ØŸ ${reqType === "maintenance" ? (hasContract === "yes" ? "Ù†Ø¹Ù…" : hasContract === "no" ? "Ù„Ø§" : "â€”") : "â€”"}
- Ø§Ù„Ù…ÙˆÙ‚Ø¹: ${location}`;

  return {
    typeLabel,
    html: headerHtml + (detailsHtml || "<b>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨:</b> â€”"),
    text: headerText + "\n\n" + (detailsText || "ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨: â€”")
  };
}




/* =========================
   WhatsApp
========================= */
function normalizeSaudiPhone(phone) {
  phone = (phone || "").toString().replace(/\D/g, '');
  if (phone.startsWith('05')) return '966' + phone.substring(1);
  if (phone.startsWith('5')) return '966' + phone;
  if (phone.startsWith('966')) return phone;
  return '';
}

function sendWhatsAppToClient(forcedReqId) {
  const phone = normalizeSaudiPhone(v("phone"));
  if (!phone) return;

  const reqId = forcedReqId || v("request_id");
  const summary = buildFullSummary();

  const msg =
`Ù…Ø±Ø­Ø¨Ù‹Ø§ ${v("name")} ğŸ‘‹
ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ Ù„Ø¯Ù‰ *RKL Ù„Ù„Ù…ØµØ§Ø¹Ø¯* âœ…

ğŸ†” Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${reqId}
ğŸ› ï¸ Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨: ${summary.typeLabel}

ğŸ“Œ Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨:
${summary.text}

ğŸ“ ÙŠØ±Ø¬Ù‰ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ±/Ø§Ù„Ù…Ø®Ø·Ø· Ù…Ø¹ Ø°ÙƒØ± Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ Ø¥Ù„Ù‰: 0114774021 Ø£Ùˆ admin@rkl.sa`;

  window.open("https://wa.me/" + phone + "?text=" + encodeURIComponent(msg), "_blank");
}

/* =========================
   Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨
========================= */
function generateRequestId() {
  const now = new Date();
  const y = now.getFullYear().toString().slice(2);
  const m = String(now.getMonth() + 1).padStart(2, '0');
  const d = String(now.getDate()).padStart(2, '0');
  const r = Math.floor(Math.random() * 900 + 100);
  return `RKL-${y}${m}${d}-${r}`;
}




/* =========================
   Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
========================= */
document.addEventListener("DOMContentLoaded", () => {
  hideAllSections();
  const cq = document.getElementById("contractQuestion");
  if (cq) cq.style.display = "none";
});
</script>








<script>


  
/* =========================
   Ø¹Ø±Ø¶ Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨
========================= */
function showSummary() {
  const byId = id => document.getElementById(id)?.value || "â€”";
  const byName = name => document.querySelector(`[name="${name}"]`)?.value || "â€”";

  const type = byId("type");
  let serviceDetails = "";

  // â›”ï¸ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø·Ù„Ø¨ ØªÙˆØ±ÙŠØ¯ØŒ Ù„Ø§ ØªØ¯Ø®Ù„ Ù…Ù†Ø·Ù‚ Ø§Ù„ØµÙŠØ§Ù†Ø© Ù†Ù‡Ø§Ø¦ÙŠÙ‹Ø§
  if (type === "supply") {
    serviceDetails = `
      <b>ğŸ—ï¸ Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹:</b> ${byId("project")}<br>
      <b>ğŸ¢ Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¨Ù†Ù‰:</b> ${document.querySelector('#supply select')?.value || "â€”"}<br>
      <b>ğŸ›— Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØµØ§Ø¹Ø¯:</b> ${document.querySelectorAll('#supply input[type="number"]')[0]?.value || "â€”"}<br>
      <b>ğŸ¢ Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¯ÙˆØ§Ø±:</b> ${document.querySelectorAll('#supply input[type="number"]')[1]?.value || "â€”"}<br>
      <b>ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</b><br>${document.querySelector('#supply textarea')?.value || "â€”"}
    `;
  }

  // âœ… Ù…Ù†Ø·Ù‚ Ø§Ù„ØµÙŠØ§Ù†Ø© ÙÙ‚Ø· Ø¥Ø°Ø§ Ø§Ù„Ù†ÙˆØ¹ maintenance
  if (type === "maintenance") {
    const hasContract = byId("hasContract");

    if (hasContract === "yes") {
      serviceDetails = `
        <b>ğŸ¢ Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹:</b> ${byName("project_name")}<br>
        <b>ğŸ”§ Ù†ÙˆØ¹ Ø§Ù„Ø¨Ù„Ø§Øº:</b> ${byName("issue_type")}<br>
        <b>ğŸš¨ Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ¹Ø¯:</b> ${byName("lift_status")}<br>
        <b>âš¡ Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„Ø·Ù„Ø¨:</b> ${byName("priority")}<br>
        <b>ğŸ“ ÙˆØµÙ Ø§Ù„Ø¹Ø·Ù„:</b><br>${byName("description_contract")}
      `;
    }

    if (hasContract === "no") {
      serviceDetails = `
        <b>ğŸ› ï¸ Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø©:</b> ${byName("service_type")}<br>
        <b>ğŸ›— Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØµØ§Ø¹Ø¯:</b> ${byName("lifts_count")}<br>
        <b>ğŸ¢ Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¨Ù†Ù‰:</b> ${byName("building_type")}<br>
        <b>ğŸ“Š Ø¹Ø¯Ø¯ Ø§Ù„ÙˆÙ‚ÙØ§Øª:</b> ${byName("stops_count")}<br>
        <b>âš–ï¸ Ø§Ù„Ø­Ù…ÙˆÙ„Ø©:</b> ${byName("capacity")} ÙƒØ¬Ù…<br>
        <b>ğŸ­ Ù†ÙˆØ¹ Ø§Ù„Ù…ØµØ§Ø¹Ø¯:</b> ${byName("lift_brand")}<br>
        <b>ğŸš¨ Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ¹Ø¯:</b> ${byName("lift_condition")}<br>
        <b>â³ Ø¹Ù…Ø± Ø§Ù„Ù…ØµØ¹Ø¯:</b> ${byName("lift_age")}<br>
        <b>ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</b><br>${byName("description_no_contract")}
      `;
    }
  }

  // âœ… Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„Ø®Øµ ÙÙŠ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚
  const box = document.getElementById("summaryBox");
  if (box) {
    box.innerHTML = serviceDetails || "â€”";
    box.classList.remove("hidden");
  }
} // âœ… Ø¥ØºÙ„Ø§Ù‚ showSummary Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­

/* =========================
   Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
========================= */
document.addEventListener("DOMContentLoaded", () => {
  hideAllSections();
  const cq = document.getElementById("contractQuestion");
  if (cq) cq.style.display = "none";
});
</script>

 
<script>
function prepareBeforeSubmit() {

  // âœ… ØªÙˆÙ„ÙŠØ¯ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ Ø£ÙˆÙ„Ø§Ù‹ (Ø¹Ø´Ø§Ù† ÙŠØ¯Ø®Ù„ ÙÙŠ Ø§Ù„Ù…Ù„Ø®Øµ + Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„)
  const reqId = generateRequestId();
  document.getElementById("request_id").value = reqId;

  // âœ… Ø¹Ù†ÙˆØ§Ù† Ø¥ÙŠÙ…ÙŠÙ„ Ø§Ø­ØªØ±Ø§ÙÙŠ (Ù„Ù„Ø¥Ø¯Ø§Ø±Ø© + Ø§Ù„Ø¹Ù…ÙŠÙ„)
  const reqType = document.getElementById("type")?.value || "";
  const typeLabel =
    reqType === "maintenance" ? "ØµÙŠØ§Ù†Ø©" :
    reqType === "supply" ? "ØªÙˆØ±ÙŠØ¯ ÙˆØªØ±ÙƒÙŠØ¨" :
    reqType === "consult" ? "Ø§Ø³ØªØ´Ø§Ø±Ø©" : "Ø·Ù„Ø¨";

  const customerName = (document.getElementById("name")?.value || "").trim() || "Ø¹Ù…ÙŠÙ„";
  const subjectEl = document.getElementById("email_subject"); // Ù„Ø§Ø²Ù… ØªØ¶ÙŠÙ id Ù„Ù„Ù€ _subject
  if (subjectEl) {
    subjectEl.value = `RKL | ${typeLabel} | Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${reqId} | ${customerName}`;
  }

  // âœ… ØªØ­Ø¯ÙŠØ« Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ÙÙŠ Ø§Ù„Ø­Ù‚Ù„ Ø§Ù„Ù…Ø®ÙÙŠ Ù„Ù„Ø¥ÙŠÙ…ÙŠÙ„ (Ø¥Ù† ÙˆØ¬Ø¯)
  const locHidden = document.getElementById("location_hidden");
  if (locHidden) {
    locHidden.value = document.getElementById("location")?.value || "â€”";
  }

  // âœ… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…Ù„Ø®Øµ Ø¨Ø¹Ø¯ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ (Ø­ØªÙ‰ ÙŠØ¸Ù‡Ø± Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ ÙˆØ§Ù„Ù…Ù„Ø®Øµ)
  showSummary();

  // âœ… Ù†Ø³Ø®Ø© Ù„Ù„Ø¹Ù…ÙŠÙ„
  document.getElementById("cc_email").value =
    document.getElementById("email")?.value || "";

  // âœ… Ø¥Ø²Ø§Ù„Ø© Ø¬Ù…ÙŠØ¹ name Ù…Ø§ Ø¹Ø¯Ø§ Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠ (Ø¨Ø¹Ø¯ ØªØ¬Ù‡ÙŠØ² ÙƒÙ„ Ø´ÙŠØ¡)
  stripAllNamesExceptSummary();

  // âœ… ÙˆØ§ØªØ³Ø§Ø¨ / ÙˆØ¥Ø¹Ø§Ø¯Ø© ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø®Ø±ÙŠØ·Ø© (ÙƒÙ…Ø§ ÙƒØ§Ù† Ø¹Ù†Ø¯Ùƒ)
  setTimeout(() => {
    if (!window.__rklMapInitialized) {
      try { initMap(); } catch(e) {}
    } else if (window.google && window.google.maps && window.map) {
      try { google.maps.event.trigger(window.map, "resize"); } catch(e) {}
    }
  }, 250);

}




</script>



  <script
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCscTZats0zQdXyjweiRZuqjiSxw_Y1dlY&callback=initMap"
  async
  defer>
</script>

<script>
function normalizeSaudiPhone(phone) {
  phone = phone.replace(/\D/g, '');
  if (phone.startsWith('05')) return '966' + phone.substring(1);
  if (phone.startsWith('5')) return '966' + phone;
  if (phone.startsWith('966')) return phone;
  return '';
}

function sendWhatsAppToClient(forcedReqId) {
  const name = (document.getElementById("name").value || "â€”").trim();
  const rawPhone = document.getElementById("phone").value || "";
  const phone = normalizeSaudiPhone(rawPhone);

  if (!phone) {
    alert("âŒ Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ ØºÙŠØ± ØµØ­ÙŠØ­");
    return false;
  }

  const reqId = forcedReqId || document.getElementById("request_id").value || "â€”";
  const summary = buildFullSummary();

  const whatsappMsg =
`Ù…Ø±Ø­Ø¨Ù‹Ø§ ${name} ğŸ‘‹
ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ Ù„Ø¯Ù‰ *RKL Ù„Ù„Ù…ØµØ§Ø¹Ø¯* âœ…

ğŸ†” Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${reqId}
ğŸ› ï¸ Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨: ${summary.typeLabel}

ğŸ“Œ Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨:
${summary.text}

ğŸ“ ÙŠØ±Ø¬Ù‰ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØµÙˆØ±/Ø§Ù„Ù…Ø®Ø·Ø· Ù…Ø¹ Ø°ÙƒØ± Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ Ø¥Ù„Ù‰: 0114774021 Ø£Ùˆ admin@rkl.sa`;

  window.open("https://wa.me/" + phone + "?text=" + encodeURIComponent(whatsappMsg), "_blank");
  return true;
}

function generateRequestId() {
  const now = new Date();
  const y = now.getFullYear().toString().slice(2);
  const m = String(now.getMonth() + 1).padStart(2, '0');
  const d = String(now.getDate()).padStart(2, '0');
  const r = Math.floor(Math.random() * 900 + 100); // 3 digits
  return `RKL-${y}${m}${d}-${r}`;
}

function toggleVisits() {
  const service = document.getElementById("serviceType").value;
  const visitsSelect = document.getElementById("maintenanceVisits");
  const visitsLabel = document.getElementById("visitsLabel");

  if (service.includes("Ø¹Ù‚Ø¯ ØµÙŠØ§Ù†Ø©")) {
    visitsSelect.style.display = "block";
    visitsLabel.style.display = "block";
  } else {
    visitsSelect.style.display = "none";
    visitsLabel.style.display = "none";
    visitsSelect.value = "";
  }
}        
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  hideAllSections();
  document.getElementById("contractQuestion").style.display = "none";
});
</script>

<script>



function prepareBeforeSubmit() {
  const reqId = generateRequestId();
  document.getElementById("request_id").value = reqId;

  // âœ… Ø­ÙØ¸ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù„Ù„Ø¥ÙŠÙ…ÙŠÙ„
  document.getElementById("location_hidden").value =
    document.getElementById("location")?.value || "â€”";

  // âœ… Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ù„Ø®Øµ ÙˆØªØ®Ø²ÙŠÙ†Ù‡ Ù„Ù„Ø¥ÙŠÙ…ÙŠÙ„
  showSummary();

  // âœ… Ù†Ø³Ø®Ø© Ù„Ù„Ø¹Ù…ÙŠÙ„
  document.getElementById("cc_email").value = document.getElementById("email")?.value || "";

  // âœ… ÙˆØ§ØªØ³Ø§Ø¨
  setTimeout(() => { sendWhatsAppToClient(reqId); }, 350);

  // âœ… Ù„Ø§ ØªØ­Ø°Ù Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø¥Ù„Ø§ Ø¨Ø¹Ø¯ ØªØ¬Ù‡ÙŠØ² ÙƒÙ„ Ø´ÙŠØ¡
  stripAllNamesExceptSummary();
}
</script>

  <script>
/* =========================
   Ù…Ù„Ø®Øµ Ù…ÙˆØ­Ø¯ (Ù„Ù„ØµÙØ­Ø© + Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„)
========================= */
function showSummary() {
  const summary = buildFullSummary(); // ØªØ³ØªØ®Ø¯Ù… Ø¯Ø§Ù„ØªÙƒ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø©

  // âœ… Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„Ø®Øµ ÙÙŠ Ø§Ù„ØµÙØ­Ø©
  const box = document.getElementById("summaryBox");
  if (box) {
    box.innerHTML = summary.html;
    box.classList.remove("hidden");
  }

  // âœ… ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ù†ØµÙŠ Ù„Ù„Ø¥ÙŠÙ…ÙŠÙ„ (Ù…Ù„Ø®Øµ_Ø§Ù„Ø·Ù„Ø¨_Ø§Ù„ÙƒØ§Ù…Ù„)
  const hidden = document.getElementById("full_summary");
  if (hidden) hidden.value = summary.text;

  // âœ… ØªØ¹Ø¨Ø¦Ø© Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù„Ù„Ø¥ÙŠÙ…ÙŠÙ„ (Ø­Ù‚Ù„ Ù…Ù†ÙØµÙ„)
  const locHidden = document.getElementById("location_hidden");
  if (locHidden) locHidden.value = document.getElementById("location")?.value || "â€”";
}

/* =========================
   Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„: Ø±Ù‚Ù… Ø·Ù„Ø¨ + Ù…Ù„Ø®Øµ + ÙˆØ§ØªØ³Ø§Ø¨ + ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø­Ù‚ÙˆÙ„
========================= */
function prepareBeforeSubmit() {
  // Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨
  const reqId = generateRequestId();
  document.getElementById("request_id").value = reqId;

  // âœ… Ø¬Ù‡Ù‘Ø² Ø§Ù„Ù…Ù„Ø®Øµ (Ù„ØµÙØ­Ø© Ø§Ù„Ø¹Ø±Ø¶ + Ù„Ù„Ø¥ÙŠÙ…ÙŠÙ„)
  showSummary();

  // Ù†Ø³Ø®Ø© Ù„Ù„Ø¹Ù…ÙŠÙ„
  document.getElementById("cc_email").value = (document.getElementById("email")?.value || "").trim();

  // ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ù„Ø¹Ù…ÙŠÙ„ (Ø¨Ø¹Ø¯ ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ù…Ù„Ø®Øµ)
  setTimeout(() => {
    if (typeof sendWhatsAppToClient === "function") sendWhatsAppToClient(reqId);
  }, 350);

  // âœ… Ù„Ø§ ØªØ­Ø°Ù name Ø¥Ù„Ø§ Ø¨Ø¹Ø¯ ØªØ¬Ù‡ÙŠØ² ÙƒÙ„ Ø´ÙŠØ¡
  stripAllNamesExceptSummary();
}

/* =========================
   Ø§Ù„Ø³Ù…Ø§Ø­ ÙÙ‚Ø· Ø¨Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠØ© + Ø§Ù„ØµÙˆØ± + Ø§Ù„Ù…ÙˆÙ‚Ø¹
========================= */
function stripAllNamesExceptSummary() {
  const allowed = [
    'Ø±Ù‚Ù…_Ø§Ù„Ø·Ù„Ø¨',
    'Ù…Ù„Ø®Øµ_Ø§Ù„Ø·Ù„Ø¨_Ø§Ù„ÙƒØ§Ù…Ù„',
    'Ù…ÙˆÙ‚Ø¹_Ø§Ù„Ù…Ø´Ø±ÙˆØ¹',
    'attachments',
    'email',
    '_subject',
    '_template',
    '_captcha',
    '_language',
    '_cc',
    'request_type'
  ];

  document.querySelectorAll('input[name], select[name], textarea[name]').forEach(el => {
    if (!allowed.includes(el.name)) el.removeAttribute('name');
  });
}
</script>
<script>
function attachmentsInfo(){
  const f = document.getElementById("attachments")?.files;
  return (!f || !f.length) ? "Ù„Ø§ ÙŠÙˆØ¬Ø¯" : `${f.length} Ù…Ù„Ù/ØµÙˆØ±Ø©`;
}

function showSummary(){
  const summary = buildFullSummary();

  const box = document.getElementById("summaryBox");
  if (box){
    box.innerHTML = summary.html + `<br><b>Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª:</b> ${attachmentsInfo()}`;
    box.classList.remove("hidden");
  }

  const hidden = document.getElementById("full_summary");
  if (hidden){
    hidden.value = summary.text + `\n- Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª: ${attachmentsInfo()}`;
  }

  const locHidden = document.getElementById("location_hidden");
  if (locHidden){
    locHidden.value = document.getElementById("location")?.value || "â€”";
  }
}

function stripAllNamesExceptSummary(){
  const allowed = [
    'Ø±Ù‚Ù…_Ø§Ù„Ø·Ù„Ø¨',
    'Ù…Ù„Ø®Øµ_Ø§Ù„Ø·Ù„Ø¨_Ø§Ù„ÙƒØ§Ù…Ù„',
    'Ù…ÙˆÙ‚Ø¹_Ø§Ù„Ù…Ø´Ø±ÙˆØ¹',
    'attachments',
    'email',
    '_subject',
    '_template',
    '_captcha',
    '_language',
    '_cc',
    'request_type'
  ];

  document.querySelectorAll('input[name], select[name], textarea[name]').forEach(el=>{
    if(!allowed.includes(el.name)) el.removeAttribute('name');
  });
}

function prepareBeforeSubmit(){
  const reqId = generateRequestId();
  document.getElementById("request_id").value = reqId;

  showSummary();
  document.getElementById("cc_email").value =
    (document.getElementById("email")?.value || "").trim();

  setTimeout(()=>{ sendWhatsAppToClient(reqId); }, 350);

  stripAllNamesExceptSummary();
}
</script>


</body>
</html>
